# roles/rhbase/tasks/yum-cron.yml
#
# Settings regarding yum-cron
---
- name: Yum-cron | Install yum-cron
  package:
    name: yum-cron
    state: present
  tags:
    - rhbase
    - yumcron

- name: Yum-cron | Install yum-cron configuration
  template:
    src: "etc_yum_{{ item }}.j2"
    dest: "/etc/yum/{{ item }}"
    owner: root
    group: root
    mode: 0644
  with_items:
    - yum-cron.conf
    - yum-cron-hourly.conf
  notify: restart yum-cron
  tags:
    - rhbase
    - yumcron

- name: Yum-cron | Start yum-cron service
  service:
    name: yum-cron
    state: started
    enabled: true
  tags:
    - rhbase
    - yumcron
